# nexus
export NEXUS_USERNAME=$(keychain-environment-variable NEXUS_USERNAME); 
export NEXUS_PASSWORD=$(keychain-environment-variable NEXUS_PASSWORD); 
export NEXUS_AUTH_KEY=$(keychain-environment-variable NEXUS_AUTH_KEY); 

export KEYSTORE_ENCRYPTION_KEY=$(keychain-environment-variable KEYSTORE_ENCRYPTION_KEY);
export KEYSTORE_PASSWORD=$(keychain-environment-variable KEYSTORE_PASSWORD);
export KEYSTORE_ALIAS=$(keychain-environment-variable KEYSTORE_ALIAS);
export KEYSTORE_UPLOAD_ALIAS=$(keychain-environment-variable KEYSTORE_UPLOAD_ALIAS);
export KEYSTORE_UPLOAD_PASSWORD=$(keychain-environment-variable KEYSTORE_UPLOAD_PASSWORD);

export AWS_PROFILE=picnic-artifacts
export AWS_ACCESS_KEY_ID=$(keychain-environment-variable AWS_ACCESS_KEY_ID);
export AWS_SECRET_ACCESS_KEY=$(keychain-environment-variable AWS_SECRET_ACCESS_KEY);

export JIRA_API_TOKEN=$(keychain-environment-variable JIRA_API_TOKEN);
export JIRA_EMAIL="kirill.voloshin@teampicnic.com";

export GITHUB_TOKEN=$(keychain-environment-variable GITHUB_TOKEN);

alias docker="AWS_PROFILE=picnic-artifacts docker"

alias picnic='cd ~/PicnicSupermarket'

export PATH="$HOME/PicnicSupermarket/scripts:$PATH"

export PYTHONPATH="~/PicnicSupermarket/picnic-test-automation/automated-tests"

export ANDROID_HOME=$HOME/Library/Android/sdk

# make docker work
DOCKER_BUILDKIT=0                                                                                                                                                                                             
export DOCKER_HOST=unix://$HOME/.rd/docker.sock                                                                                                                                                               
export TESTCONTAINERS_DOCKER_SOCKET_OVERRIDE=/var/run/docker.sock                                                                                                                                             
export TESTCONTAINERS_RYUK_DISABLED=true


alias awsAuth="aws sso login --profile picnic-artifacts"
alias ecrAuth="aws ecr get-login-password --region eu-west-1 --profile picnic-artifacts | docker login --username AWS --password-stdin 008971659647.dkr.ecr.eu-west-1.amazonaws.com"

alias pstFormat="picnic-shared-tools/format.sh"
alias pstPatch="picnic-shared-tools/patch.sh"
alias pstFull="pstPatch && pstFormat"

export LDFLAGS="-L/opt/homebrew/opt/libffi/lib"
export CPPFLAGS="-I/opt/homebrew/opt/libffi/include"

alias androidLint="./gradlew ktlintFormat"
alias iosLint="./Pods/SwiftLint/swiftlint --fix"

alias gradle-clean-cache='(cd android 2>/dev/null && ./gradlew --stop); rm -rf android/{.gradle,.cxx,app/.gradle,app/.cxx,app/build,build} ~/.gradle/caches && echo "âœ“ Gradle caches cleared"'
